<div class="row content_main">
    <div class="col-6 col-md-6">
     <div class="single_post">
       <h3><%= @post.title %></h3>
       <p><%= @post.address %></p>
       <p hidden id="latitude"><%= @post.latitude %></p>
       <p hidden id="longitude"><%= @post.longitude %></p>
       <p><%= @post.content %></p>
       <p class="user_name_bottom"><%= link_to @post.user.user_name, user_path(@post.user.id) %></p>
     </div>
       <% @post.comments.each do |comment| %>
       <div class ="single_comment" >
           <p><%= comment.comment %></p>
           <p class="user_name_bottom"><%= link_to comment.user.user_name, user_path(comment.user.id) %></p>
       </div>
       <% end %>
     <%= form_for Comment.new do |f| %>
     <%= f.text_field :comment %>
     <%= f.hidden_field :post_id, :value => @post.id %>
     <%= f.submit "Add Your Comment",:class => "link_button_small" %>
             
     <% end %>
     
    </div>
    
    <div class="col-6 col-md-6">
    <div id="map" style="width: 100%; height: 90vh;"></div>
      <script type="text/javascript">
        let latNum=parseFloat(document.getElementById("latitude").innerText)
        let lngNum=parseFloat(document.getElementById("longitude").innerText)
        var locations = [
          ['Bondi Beach',latNum, lngNum, 4]
        ];
        
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 15,
          center: new google.maps.LatLng(latNum, lngNum),
          mapTypeId: google.maps.MapTypeId.ROADMAP
        });
        
        var infowindow = new google.maps.InfoWindow();
    
        var marker, i;
        
        for (i = 0; i < locations.length; i++) {  
          marker = new google.maps.Marker({
            position: new google.maps.LatLng(locations[i][1], locations[i][2]),
            map: map
          });
          
          google.maps.event.addListener(marker, 'click', (function(marker, i) {
            return function() {
              infowindow.setContent(locations[i][0]);
              infowindow.open(map, marker);
            }
          })(marker, i));
        }
      </script>

      </div>
    </div>  
</div>




